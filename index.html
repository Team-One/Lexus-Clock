<html>
<head>
	<link href='http://fonts.googleapis.com/css?family=Six+Caps' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="css/lexusclock.css" />
	<!--[if lte IE 8]>
		<link rel="stylesheet" href="css/tomtom.map.ie.min.css" />
	<![endif]--> 
	<script type="text/javascript" src="js/moment.js"></script>
	<script type="text/javascript" src="js/leaflet.js"></script>
	<script type="text/javascript" src="js/tomtom.map.js"></script>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
</head>
<body>
	<script>
    	moment().format();
	</script>
	<script>
		// Here be the seconds.  
		$.ajax({
			
			url:"https://api.tomtom.com/lbs/services/route/3/33.91859,-118.39372:33.85716,-118.30965/Quickest/jsonp?includeTraffic=true&time=now&trafficModelID=-1&includeInstructions=false&key=5zbbuuejq22suvrg4fjrg3fs&jsonp=?&callback=?",
			dataType:"jsonp",
			success:function(data){
				console.log(data);
				//THIS BIT HERE WAS SOME SHITTY MATH. DELETE THIS.
				
				/*var totalSeconds = data.route.summary.totalTimeSeconds;
				moment.duration(1, "minutes").humanize(true);
				var minutes = Math.floor(totalSeconds/60);
				var modSeconds = totalSeconds%60;
				$('div.seconds')
  					.html('<p>' + minutes + ":" + modSeconds +'</p>');*/
  				var totalSeconds = data.route.summary.totalTimeSeconds;
  				var humanTime = moment.duration(totalSeconds, "seconds").humanize(true);
  				$('div.seconds')
  					.html('<p>Leave now, and you will get there ' + humanTime + '.</p>');
	
			},
			
			error:function(e){
			
			}
			
		});	
	</script>
	
	<div class="seconds"></div>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
 	<script src="js/jquery.fittext.js"></script>
	<script type="text/javascript">
		$('div.seconds').fitText();
	</script>
	
</body>
</html>
